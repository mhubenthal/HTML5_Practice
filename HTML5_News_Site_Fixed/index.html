<!DOCTYPE html>
<html>
<head>
<title>Backbone Application</title>
<script src="js/jquery-1.11.1.js" type="text/javascript"></script> 
<script src="js/underscore.js" type="text/javascript"></script> 
<script src="js/backbone.js" type="text/javascript"></script>  
</head>
<body>
  <script type="text/template" id="article_list_template">
      <li><%= id %></li>
          <li><%= headLine %></li>
          <li><%= snippet %></li>

 
</script>
  <script type="text/javascript">
 
var Article = Backbone.Model.extend();
 
var ArticleList = Backbone.Collection.extend({
    model: Article,
    url: 'http://html5news.herokuapp.com/articles/all'
});  
 
var ArticlesView = Backbone.View.extend({
  template: _.template($('#article_list_template').html()),
  render: function(eventName) {
    _.each(this.model.models, function(article){
      var lArticleId = article.attributes['id'];
      var lArticleHeadline = article.attributes['headLine'];
      var lArticleSnippet = article.attributes['snippet'];
      var lTemplate = this.template(article.toJSON());

      $(this.el).append(lTemplate);
    }, this);
    return this;
  }
});
  
var lArticles = new ArticleList;
  
  var AppView = Backbone.View.extend({
  el: "body",

  render: function(){
    
    var lArticlesView = new ArticlesView({model:lArticles});
    var lHtml = lArticlesView.render().el;
    $('#articles').html(lHtml);
  },

  initialize: function(){
    var lOptions = {};
    lOptions.success = this.render;
    lArticles.fetch(lOptions);
  }
});
    var App = new AppView;
    </script>
    
  <ul id="articles"></ul>
</body>
</html> 